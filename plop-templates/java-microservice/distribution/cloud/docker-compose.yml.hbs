name: {{appName}}
services:
  {{appName}}:
    image: registry.cn-shanghai.aliyuncs.com/{{ns}}/{{appName}}:v1.0.0
    container_name: {{appName}}
    environment:
      - TZ=Asia/Shanghai
    volumes:
      - ~/app/logs:/{{appName}}/logs
    ports:
      - {{appPort}}:{{appPort}}
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:{{appPort}}{{servletContextPath}}/actuator/health"]
      interval: 30s
      timeout: 3s
      retries: 3
    expose:
      - {{appPort}}
    networks:
      - flooc-nets
networks:
  flooc-nets:
    name: flooc_default
    # 自动创建，如果外部没有
#    external: true